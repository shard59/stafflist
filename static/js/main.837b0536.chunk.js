(this.webpackJsonpstafflist=this.webpackJsonpstafflist||[]).push([[0],{100:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),n=a(11),s=a.n(n),l=(a(100),a(48)),o=a(25),c=a(40),d=a(13),u=new(function(){function e(){Object(o.a)(this,e),this.keys={surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"\u0418\u043c\u044f",patronymic:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",position:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",gender:"\u041f\u043e\u043b",dateOfHiring:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",dateOfFiring:"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f",isDriver:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u0430\u0432",controls:""},this.list={1:{surname:"\u0418\u0432\u0430\u043d\u043e\u0432",name:"\u0418\u0432\u0430\u043d",patronymic:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",position:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",dateOfBirth:"1980-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2010-01-01",dateOfFiring:"",isDriver:!0},2:{surname:"\u041f\u0435\u0442\u0440\u043e\u0432",name:"\u041f\u0435\u0442\u0440",patronymic:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440",dateOfBirth:"1990-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2012-01-01",dateOfFiring:"",isDriver:!0},3:{surname:"\u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0430",name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430",patronymic:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u043d\u0430",position:"\u0421\u0435\u043a\u0440\u0435\u0442\u0430\u0440\u044c",dateOfBirth:"1999-01-01",gender:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",dateOfHiring:"2010-02-01",dateOfFiring:"",isDriver:!0},4:{surname:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432",name:"\u0418\u0433\u043e\u0440\u044c",patronymic:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",position:"\u0414\u0432\u043e\u0440\u043d\u0438\u043a",dateOfBirth:"1970-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2013-01-01",dateOfFiring:"2016-01-01",isDriver:!1},5:{surname:"\u0414\u043c\u0438\u0442\u0440\u0438\u0447\u0435\u043d\u043a\u043e",name:"\u041e\u043b\u044c\u0433\u0430",patronymic:"\u0415\u0432\u0433\u0435\u043d\u0438\u0435\u0432\u043d\u0430",position:"\u0423\u0431\u043e\u0440\u0449\u0438\u0446\u0430",dateOfBirth:"1978-01-01",gender:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",dateOfHiring:"2020-01-01",dateOfFiring:"",isDriver:!1}},Object(d.d)(this)}return Object(c.a)(e,[{key:"generatePersonId",value:function(){var e=parseInt(1e4*Math.random());return this.list[e]?this.generatePersonId():e}},{key:"addPerson",value:function(e){var t=this.generatePersonId();this.list[t]=Object(l.a)({},e),this.setLocalStorage()}},{key:"deletePerson",value:function(e){delete this.list[e],this.setLocalStorage()}},{key:"editPerson",value:function(e,t){this.list[e]=Object(l.a)({},t),this.setLocalStorage()}},{key:"getLocalStorage",value:function(){var e=localStorage.getItem("staffListTestWork");this.list=JSON.parse(e)}},{key:"setLocalStorage",value:function(){localStorage.setItem("staffListTestWork",JSON.stringify(this.list))}}]),e}()),j=a(145),h=a(166),f=a(82),O=a(24),b=a(108),m=a(172),g=a(78),p=a.n(g),x=new(function(){function e(){Object(o.a)(this,e),this.state={surname:"",name:"",patronymic:"",position:"",dateOfBirth:"",gender:"",dateOfHiring:"",dateOfFiring:"",isDriver:!1},Object(d.d)(this)}return Object(c.a)(e,[{key:"handleChangeTextInput",value:function(e){this.state[e.target.name]=e.target.value}},{key:"handleChangeCheck",value:function(e){this.state[e.target.name]=e.target.checked}},{key:"resetForm",value:function(){this.state={surname:"",name:"",patronymic:"",position:"",dateOfBirth:"",gender:"",dateOfHiring:"",dateOfFiring:"",isDriver:!1}}},{key:"editState",value:function(e){this.state=Object(l.a)({},e)}}]),e}()),v=new(function(){function e(){Object(o.a)(this,e),this.isValid=!0,this.validationRules={string:{regExp:/[0-9a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435, \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},stringGender:{regExp:/[0-9a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},date:{regExp:/[0-9]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},bool:{regExp:/(true|false|1|0)/,msg:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"}},this.fieldValidStatus={surname:{rule:"string",required:!0},name:{rule:"string",required:!0},patronymic:{rule:"string",required:!1},position:{rule:"string",required:!0},dateOfBirth:{rule:"date",required:!0},gender:{rule:"stringGender",required:!0},dateOfHiring:{rule:"date",required:!0},dateOfFiring:{rule:"date",customRule:this.olderThenDateOfHiring,required:!1},isDriver:{rule:"bool",required:!1}},Object(d.d)(this)}return Object(c.a)(e,[{key:"olderThenDateOfHiring",value:function(e){var t=new Date(e.dateOfHiring).getTime(),a=new Date(e.dateOfFiring).getTime();if(!isNaN(a))return t<a?"":"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0434\u0430\u0442\u044b \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"}},{key:"isFieldValid",value:function(e,t,a,i,r){return r?r(e):(a||t)&&t?this.validationRules[i].regExp.test(a)?"":this.validationRules[i].msg:""}},{key:"resetFieldValidStatus",value:function(){var e=this;Object.keys(this.fieldValidStatus).forEach((function(t){e.fieldValidStatus[t].msg="",e.isValid=!0}))}},{key:"validateForm",value:function(e){var t=this;Object.entries(e).forEach((function(a){var i=Object(O.a)(a,2),r=i[0],n=i[1],s=t.fieldValidStatus[r],l=s.rule,o=s.required,c=s.customRule,d=t.isFieldValid(e,o,n,l,c);d&&(t.isValid=!1),t.fieldValidStatus[r].msg=d}))}}]),e}()),y=a(159),C=a(171),k=a(158),F=a(157),P=a(156),S=new function e(){Object(o.a)(this,e),this.professions={1:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",2:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440",3:"\u0421\u0435\u043a\u0440\u0435\u0442\u0430\u0440\u044c",4:"\u0414\u0432\u043e\u0440\u043d\u0438\u043a",5:"\u0423\u0431\u043e\u0440\u0449\u0438\u0446\u0430"},Object(d.d)(this)},I=a(167),B=a(173),N=a(174),H=a(150),L=a(149),V=a(155),T=a(168),D=a(170),q=a(154),w=a(57),W=a(4),E=Object(j.a)({form:{width:800},inputGroup:{display:"flex",justifyContent:"space-between",marginBottom:15},textInput:{width:"47%"},formControl:{width:"47%"}}),G=Object(w.a)((function(e){var t=E(),a=Object.values(S.professions).map((function(e){return Object(W.jsx)(B.a,{value:e,children:e},e)})),i=x.handleChangeTextInput.bind(x),r=x.handleChangeCheck.bind(x),n=v.fieldValidStatus,s=n.surname.msg,l=n.name.msg,o=n.patronymic.msg,c=n.position.msg,d=n.dateOfBirth.msg,u=n.gender.msg,j=n.dateOfHiring.msg,h=n.dateOfFiring.msg;return Object(W.jsxs)("form",{className:t.form,children:[Object(W.jsxs)("div",{className:t.inputGroup,children:[Object(W.jsx)(I.a,{className:t.textInput,onChange:i,InputLabelProps:{shrink:!0},value:x.state.surname,required:!0,error:Boolean(s),helperText:s,id:"surnamePersonForm",name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",variant:"outlined"}),Object(W.jsx)(I.a,{className:t.textInput,onChange:i,InputLabelProps:{shrink:!0},value:x.state.name,required:!0,error:Boolean(l),helperText:l,id:"namePersonForm",name:"name",label:"\u0418\u043c\u044f",variant:"outlined"})]}),Object(W.jsxs)("div",{className:t.inputGroup,children:[Object(W.jsx)(I.a,{className:t.textInput,onChange:i,InputLabelProps:{shrink:!0},value:x.state.patronymic,error:Boolean(o),helperText:o,id:"patronymicPersonForm",name:"patronymic",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",variant:"outlined"}),Object(W.jsx)(I.a,{className:t.textInput,required:!0,select:!0,value:x.state.position,error:Boolean(c),helperText:c,InputLabelProps:{shrink:!0},onChange:i,id:"positionPersonForm",name:"position",label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",variant:"outlined",children:a})]}),Object(W.jsxs)("div",{className:t.inputGroup,children:[Object(W.jsx)(I.a,{className:t.textInput,value:x.state.dateOfBirth,error:Boolean(d),helperText:d,InputLabelProps:{shrink:!0},onChange:i,required:!0,id:"dateOfBirthPersonForm",name:"dateOfBirth",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",variant:"outlined"}),Object(W.jsxs)(L.a,{className:t.formControl,error:Boolean(u),children:[Object(W.jsx)(H.a,{component:"legend",required:!0,children:"\u041f\u043e\u043b"}),Object(W.jsxs)(N.a,{row:!0,id:"genderPersonForm",onChange:i,value:x.state.gender,"aria-label":"gender",name:"gender",defaultValue:"top",children:[Object(W.jsx)(V.a,{value:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",control:Object(W.jsx)(T.a,{id:"femalePersonForm",color:"primary"}),label:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",labelPlacement:"start"}),Object(W.jsx)(V.a,{value:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",control:Object(W.jsx)(T.a,{id:"malePersonForm",color:"primary"}),label:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",labelPlacement:"start"})]}),Object(W.jsx)(q.a,{children:u})]})]}),Object(W.jsxs)("div",{className:t.inputGroup,children:[Object(W.jsx)(I.a,{className:t.textInput,value:x.state.dateOfHiring,error:Boolean(j),helperText:j,InputLabelProps:{shrink:!0},onChange:i,required:!0,id:"dateOfHiringPersonForm",name:"dateOfHiring",label:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",type:"date",variant:"outlined"}),Object(W.jsx)(I.a,{className:t.textInput,value:x.state.dateOfFiring,error:Boolean(h),helperText:h,InputLabelProps:{shrink:!0},onChange:i,id:"dateOfFiringPersonForm",name:"dateOfFiring",label:"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f",type:"date",variant:"outlined"})]}),Object(W.jsx)("div",{children:Object(W.jsx)(L.a,{children:Object(W.jsx)(V.a,{control:Object(W.jsx)(D.a,{checked:x.state.isDriver,onChange:r,id:"isDriverPersonForm",name:"isDriver"}),label:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432"})})})]})}));function J(e){return Object(W.jsxs)(C.a,{maxWidth:"md",open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(W.jsx)(P.a,{id:"form-dialog-title",children:e.title}),Object(W.jsx)(F.a,{children:Object(W.jsx)(G,{})}),Object(W.jsxs)(k.a,{children:[Object(W.jsx)(y.a,{onClick:e.handleClose,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(W.jsx)(y.a,{onClick:function(){v.resetFieldValidStatus(),v.validateForm(x.state),v.isValid&&(u.addPerson(x.state),x.resetForm(),e.handleClose())},color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})]})]})}function R(e){var t=r.a.useState(!1),a=Object(O.a)(t,2),i=a[0],n=a[1];return Object(W.jsxs)("div",{children:[Object(W.jsx)(m.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",children:Object(W.jsx)(b.a,{"aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",onClick:function(){n(!0)},children:Object(W.jsx)(p.a,{color:"secondary",fontSize:"large"})})}),Object(W.jsx)(J,{open:i,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",handleClose:function(){n(!1)}})]})}var A=a(164),K=a(165),z=a(153),M=a(163),Z=a(161),Q=a(162),U=a(160),X=Object(j.a)({tableHeader:{backgroundColor:"black"},tableHeaderCell:{color:"white",fontWeight:"bold"}});function Y(e){var t=X(),a=Object.values(e.staffKeys).map((function(e){return Object(W.jsx)(U.a,{className:t.tableHeaderCell,children:e},e)}));return Object(W.jsx)(Z.a,{children:Object(W.jsx)(Q.a,{className:t.tableHeader,children:a})})}var $=a(79),_=a.n($);function ee(e){var t=function(){v.resetFieldValidStatus(),x.resetForm(),e.handleClose()};return Object(W.jsxs)(C.a,{maxWidth:"md",open:e.open,onClose:t,"aria-labelledby":"form-dialog-title",children:[Object(W.jsx)(P.a,{id:"form-dialog-title",children:e.title}),Object(W.jsx)(F.a,{children:Object(W.jsx)(G,{})}),Object(W.jsxs)(k.a,{children:[Object(W.jsx)(y.a,{onClick:t,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(W.jsx)(y.a,{onClick:function(){v.resetFieldValidStatus(),v.validateForm(x.state),v.isValid&&(u.editPerson(e.id,x.state),x.resetForm(),e.handleClose())},color:"primary",children:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]})]})}function te(e){var t=r.a.useState(!1),a=Object(O.a)(t,2),i=a[0],n=a[1],s=u.list[e.id];return Object(W.jsxs)("div",{children:[Object(W.jsx)(m.a,{title:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",children:Object(W.jsx)(b.a,{"aria-label":"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",onClick:function(){x.editState(s),n(!0)},children:Object(W.jsx)(_.a,{color:"secondary"})})}),Object(W.jsx)(ee,{open:i,handleClose:function(){n(!1)},title:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",id:e.id})]})}var ae=a(80),ie=a.n(ae);function re(e){var t=function(){e.handleClose()};return Object(W.jsxs)(C.a,{maxWidth:"md",open:e.open,onClose:t,"aria-labelledby":"form-dialog-title",children:[Object(W.jsx)(P.a,{id:"form-dialog-title",children:e.title}),Object(W.jsxs)(k.a,{children:[Object(W.jsx)(y.a,{onClick:t,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(W.jsx)(y.a,{onClick:function(){u.deletePerson(e.id),e.handleClose()},color:"primary",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}function ne(e){var t=r.a.useState(!1),a=Object(O.a)(t,2),i=a[0],n=a[1];return Object(W.jsxs)("div",{children:[Object(W.jsx)(m.a,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",children:Object(W.jsx)(b.a,{"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",onClick:function(){n(!0)},children:Object(W.jsx)(ie.a,{color:"primary"})})}),Object(W.jsx)(re,{open:i,handleClose:function(){n(!1)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430?",id:e.id})]})}var se=Object(j.a)({flex:{display:"flex"}});function le(e){var t=se();return Object(W.jsxs)("div",{className:t.flex,children:[Object(W.jsx)(te,{id:e.id}),Object(W.jsx)(ne,{id:e.id})]})}function oe(e){var t=function(t,a){return"isDriver"===t?a?"\u0415\u0441\u0442\u044c \u043f\u0440\u0430\u0432\u0430":"\u041f\u0440\u0430\u0432\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442":"dateOfFiring"===t&&""===a?"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d":"dateOfBirth"===t||"dateOfHiring"===t||"dateOfFiring"===t?a.split("-").reverse().join("."):"controls"===t?Object(W.jsx)(le,{id:e.id}):a}(e.columnHeader,e.cellValue);return Object(W.jsx)(U.a,{children:t})}function ce(e){var t=Object.keys(e.staffKeys).map((function(t){return Object(W.jsx)(oe,{staffList:e.staffList,columnHeader:t,cellValue:e.person[t],id:e.id},e.id+e.person[t]+Math.random())}));return Object(W.jsx)(Q.a,{children:t})}var de=Object(j.a)({tableContainer:{margin:"30px auto"}}),ue=Object(w.a)((function(e){var t=de(),a=Object.entries(u.list).map((function(e){var t=Object(O.a)(e,2),a=t[0],i=t[1];return Object(W.jsx)(ce,{staffKeys:u.keys,staffList:u.list,id:a,person:i},a+i.surname)}));return Object(W.jsx)(M.a,{className:t.tableContainer,component:z.a,children:Object(W.jsxs)(A.a,{children:[Object(W.jsx)(Y,{staffKeys:u.keys}),Object(W.jsx)(K.a,{children:a})]})})}));localStorage.getItem("staffListTestWork")||localStorage.setItem("staffListTestWork",JSON.stringify(u.list)),u.getLocalStorage();var je=Object(j.a)({container:{textAlign:"center"}});function he(e){var t=je();return Object(W.jsx)("div",{className:"App",children:Object(W.jsxs)(h.a,{maxWidth:!1,className:t.container,children:[Object(W.jsx)(f.a,{variant:"h2",component:"h2",children:"\u0420\u0435\u0435\u0441\u0442\u0440 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),Object(W.jsx)(ue,{}),Object(W.jsx)(R,{})]})})}var fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,175)).then((function(t){var a=t.getCLS,i=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),i(e),r(e),n(e),s(e)}))};s.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(he,{})}),document.getElementById("root")),fe()}},[[106,1,2]]]);
//# sourceMappingURL=main.837b0536.chunk.js.map