(this.webpackJsonpstafflist=this.webpackJsonpstafflist||[]).push([[0],{100:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),r=i(11),s=i.n(r),o=(i(94),i(48)),l=i(23),c=i(25),d=i(13),u=new(function(){function e(){Object(l.a)(this,e),this.keys={surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"\u0418\u043c\u044f",patronymic:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",position:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",gender:"\u041f\u043e\u043b",dateOfHiring:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",dateOfFiring:"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f",isDriver:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u0430\u0432",controls:""},this.list={1:{surname:"\u0418\u0432\u0430\u043d\u043e\u0432",name:"\u0418\u0432\u0430\u043d",patronymic:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",position:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",dateOfBirth:"1980-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2010-01-01",dateOfFiring:"",isDriver:!0},2:{surname:"\u041f\u0435\u0442\u0440\u043e\u0432",name:"\u041f\u0435\u0442\u0440",patronymic:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440",dateOfBirth:"1990-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2012-01-01",dateOfFiring:"",isDriver:!0},3:{surname:"\u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0430",name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430",patronymic:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u043d\u0430",position:"\u0421\u0435\u043a\u0440\u0435\u0442\u0430\u0440\u044c",dateOfBirth:"1999-01-01",gender:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",dateOfHiring:"2010-02-01",dateOfFiring:"",isDriver:!0},4:{surname:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432",name:"\u0418\u0433\u043e\u0440\u044c",patronymic:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",position:"\u0414\u0432\u043e\u0440\u043d\u0438\u043a",dateOfBirth:"1970-01-01",gender:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",dateOfHiring:"2013-01-01",dateOfFiring:"2016-01-01",isDriver:!1},5:{surname:"\u0414\u043c\u0438\u0442\u0440\u0438\u0447\u0435\u043d\u043a\u043e",name:"\u041e\u043b\u044c\u0433\u0430",patronymic:"\u0415\u0432\u0433\u0435\u043d\u0438\u0435\u0432\u043d\u0430",position:"\u0423\u0431\u043e\u0440\u0449\u0438\u0446\u0430",dateOfBirth:"1978-01-01",gender:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",dateOfHiring:"2020-01-01",dateOfFiring:"",isDriver:!1}},Object(d.d)(this)}return Object(c.a)(e,[{key:"generatePersonId",value:function(){var e=parseInt(1e4*Math.random());return this.list[e]?this.generatePersonId():e}},{key:"addPerson",value:function(e){var t=this.generatePersonId();this.list[t]=Object(o.a)({},e),this.setLocalStorage()}},{key:"deletePerson",value:function(e){delete this.list[e],this.setLocalStorage()}},{key:"editPerson",value:function(e,t){this.list[e]=Object(o.a)({},t),this.setLocalStorage()}},{key:"getLocalStorage",value:function(){var e=localStorage.getItem("staffListTestWork");this.list=JSON.parse(e)}},{key:"setLocalStorage",value:function(){localStorage.setItem("staffListTestWork",JSON.stringify(this.list))}}]),e}()),h=i(57),f=new(function(){function e(){Object(l.a)(this,e),this.isValid=!0,this.validationRules={string:{regExp:/[0-9a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435, \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},stringGender:{regExp:/[0-9a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},date:{regExp:/[0-9]{3,}/,msg:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435"},bool:{regExp:/(true|false|1|0)/,msg:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"}},this.fieldValidStatus={surname:{rule:"string",required:!0},name:{rule:"string",required:!0},patronymic:{rule:"string",required:!1},position:{rule:"string",required:!0},dateOfBirth:{rule:"date",required:!0},gender:{rule:"stringGender",required:!0},dateOfHiring:{rule:"date",required:!0},dateOfFiring:{rule:"date",customRule:this.olderThenDateOfHiring,required:!1},isDriver:{rule:"bool",required:!1}},Object(d.d)(this)}return Object(c.a)(e,[{key:"olderThenDateOfHiring",value:function(e){var t=new Date(e.dateOfHiring).getTime(),i=new Date(e.dateOfFiring).getTime();if(!isNaN(i))return t<i?"":"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0434\u0430\u0442\u044b \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"}},{key:"isFieldValid",value:function(e,t,i,n,a){return a?a(e):(i||t)&&t?this.validationRules[n].regExp.test(i)?"":this.validationRules[n].msg:""}},{key:"resetFieldValidStatus",value:function(){var e=this;Object.keys(this.fieldValidStatus).forEach((function(t){e.fieldValidStatus[t].msg="",e.isValid=!0}))}},{key:"validateForm",value:function(e){var t=this;Object.entries(e).forEach((function(i){var n=Object(h.a)(i,2),a=n[0],r=n[1],s=t.fieldValidStatus[a],o=s.rule,l=s.required,c=s.customRule,d=t.isFieldValid(e,l,r,o,c);d&&(t.isValid=!1),t.fieldValidStatus[a].msg=d}))}}]),e}()),j=new(function(){function e(){Object(l.a)(this,e),this.state={surname:"",name:"",patronymic:"",position:"",dateOfBirth:"",gender:"",dateOfHiring:"",dateOfFiring:"",isDriver:!1},Object(d.d)(this)}return Object(c.a)(e,[{key:"handleChangeTextInput",value:function(e){this.state[e.target.name]=e.target.value}},{key:"handleChangeCheck",value:function(e){this.state[e.target.name]=e.target.checked}},{key:"resetForm",value:function(){this.state={surname:"",name:"",patronymic:"",position:"",dateOfBirth:"",gender:"",dateOfHiring:"",dateOfFiring:"",isDriver:!1}}},{key:"editState",value:function(e){this.state=Object(o.a)({},e)}}]),e}()),m=new(function(){function e(){Object(l.a)(this,e),this.open=!1,this.type="",this.personId=0,Object(d.d)(this)}return Object(c.a)(e,[{key:"setOpen",value:function(){this.open=!0}},{key:"setClose",value:function(){this.open=!1}},{key:"setType",value:function(e){this.type=e}},{key:"setPersonId",value:function(e){this.personId=e}},{key:"title",get:function(){return"add"===this.type?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":"edit"===this.type?"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c":"delete"===this.type?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":""}},{key:"confirmBtnText",get:function(){return"add"===this.type?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":"edit"===this.type?"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435":"delete"===this.type?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430":""}},{key:"confirmBtnAction",get:function(){return"add"===this.type?this.addPersonConfirm:"edit"===this.type?this.editPersonConfirm:"delete"===this.type?this.deletePersonConfirm:this.setClose}},{key:"cancelBtnAction",get:function(){return"add"===this.type||"edit"===this.type?this.personFormCancel:"delete"===this.type?this.deletePersonCancel:this.setClose}},{key:"addPersonConfirm",value:function(){f.resetFieldValidStatus(),f.validateForm(j.state),f.isValid&&(u.addPerson(j.state),j.resetForm(),this.setClose())}},{key:"personFormCancel",value:function(){f.resetFieldValidStatus(),j.resetForm(),this.setClose()}},{key:"editPersonConfirm",value:function(){f.resetFieldValidStatus(),f.validateForm(j.state),f.isValid&&(u.editPerson(this.personId,j.state),j.resetForm(),this.setClose())}},{key:"deletePersonConfirm",value:function(){u.deletePerson(this.personId),this.setClose()}},{key:"deletePersonCancel",value:function(){this.setClose()}}]),e}()),O=i(41),p=i(145),b=i(166),g=i(76),v=i(156),x=i(157),y=i(155),k=i(154),C=i(150),F=i(151),P=i(148),I=i(5),B=Object(p.a)({tableHeader:{backgroundColor:"black"},tableHeaderCell:{color:"white",fontWeight:"bold"}});function S(e){var t=B(),i=Object.values(e.staffKeys).map((function(e){return Object(I.jsx)(P.a,{className:t.tableHeaderCell,children:e},e)}));return Object(I.jsx)(C.a,{children:Object(I.jsx)(F.a,{className:t.tableHeader,children:i})})}var T=i(102),N=i(172),H=i(71),D=i.n(H),L=i(73),V=i.n(L),q=i(72),w=i.n(q);function A(e){var t=e.type,i={add:{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",icon:Object(I.jsx)(D.a,{color:"secondary",fontSize:"large"}),createDialog:function(){m.setOpen(),m.setType("add")}},edit:{title:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",icon:Object(I.jsx)(w.a,{color:"primary"}),createDialog:function(){m.setOpen(),m.setType("edit"),j.editState(u.list[e.id]),m.setPersonId(e.id)}},delete:{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",icon:Object(I.jsx)(V.a,{color:"secondary"}),createDialog:function(){m.setOpen(),m.setType("delete"),m.setPersonId(e.id)}}}[t],n=i.title,a=i.createDialog,r=i.icon;return Object(I.jsx)("div",{children:Object(I.jsx)(N.a,{title:n,children:Object(I.jsx)(T.a,{"aria-label":n,onClick:a,children:r})})})}var E=Object(p.a)({flex:{display:"flex"}});function G(e){var t=E();return Object(I.jsxs)("div",{className:t.flex,children:[Object(I.jsx)(A,{type:"edit",id:e.id}),Object(I.jsx)(A,{type:"delete",id:e.id})]})}function W(e){var t=function(t,i){return"isDriver"===t?i?"\u0415\u0441\u0442\u044c \u043f\u0440\u0430\u0432\u0430":"\u041f\u0440\u0430\u0432\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442":"dateOfFiring"===t&&""===i?"\u0422\u0440\u0443\u0434\u043e\u0443\u0441\u0442\u0440\u043e\u0435\u043d":"dateOfBirth"===t||"dateOfHiring"===t||"dateOfFiring"===t?i.split("-").reverse().join("."):"controls"===t?Object(I.jsx)(G,{id:e.id}):i}(e.columnHeader,e.cellValue);return Object(I.jsx)(P.a,{children:t})}function J(e){var t=Object.keys(e.staffKeys).map((function(t){return Object(I.jsx)(W,{staffList:e.staffList,columnHeader:t,cellValue:e.person[t],id:e.id},e.id+e.person[t]+Math.random())}));return Object(I.jsx)(F.a,{children:t})}var R=Object(p.a)({tableContainer:{margin:"30px auto"}}),K=Object(O.a)((function(e){var t=R(),i=Object.entries(u.list).map((function(e){var t=Object(h.a)(e,2),i=t[0],n=t[1];return Object(I.jsx)(J,{staffKeys:u.keys,staffList:u.list,id:i,person:n},i+n.surname)}));return Object(I.jsx)(k.a,{className:t.tableContainer,component:y.a,children:Object(I.jsxs)(v.a,{children:[Object(I.jsx)(S,{staffKeys:u.keys}),Object(I.jsx)(x.a,{children:i})]})})})),z=i(165),M=i(171),Z=i(164),Q=i(163),U=i(162),X=i(167),Y=i(173),$=i(174),_=i(159),ee=i(158),te=i(161),ie=i(169),ne=i(170),ae=i(160),re=new function e(){Object(l.a)(this,e),this.professions={1:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",2:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440",3:"\u0421\u0435\u043a\u0440\u0435\u0442\u0430\u0440\u044c",4:"\u0414\u0432\u043e\u0440\u043d\u0438\u043a",5:"\u0423\u0431\u043e\u0440\u0449\u0438\u0446\u0430"},Object(d.d)(this)},se=Object(p.a)({form:{width:800},inputGroup:{display:"flex",justifyContent:"space-between",marginBottom:15},textInput:{width:"47%"},formControl:{width:"47%"}}),oe=Object(O.a)((function(e){var t=se(),i=Object.values(re.professions).map((function(e){return Object(I.jsx)(Y.a,{value:e,children:e},e)})),n=j.handleChangeTextInput.bind(j),a=j.handleChangeCheck.bind(j),r=f.fieldValidStatus,s=r.surname.msg,o=r.name.msg,l=r.patronymic.msg,c=r.position.msg,d=r.dateOfBirth.msg,u=r.gender.msg,h=r.dateOfHiring.msg,m=r.dateOfFiring.msg;return Object(I.jsxs)("form",{className:t.form,children:[Object(I.jsxs)("div",{className:t.inputGroup,children:[Object(I.jsx)(X.a,{className:t.textInput,onChange:n,InputLabelProps:{shrink:!0},value:j.state.surname,required:!0,error:Boolean(s),helperText:s,id:"surnamePersonForm",name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",variant:"outlined"}),Object(I.jsx)(X.a,{className:t.textInput,onChange:n,InputLabelProps:{shrink:!0},value:j.state.name,required:!0,error:Boolean(o),helperText:o,id:"namePersonForm",name:"name",label:"\u0418\u043c\u044f",variant:"outlined"})]}),Object(I.jsxs)("div",{className:t.inputGroup,children:[Object(I.jsx)(X.a,{className:t.textInput,onChange:n,InputLabelProps:{shrink:!0},value:j.state.patronymic,error:Boolean(l),helperText:l,id:"patronymicPersonForm",name:"patronymic",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",variant:"outlined"}),Object(I.jsx)(X.a,{className:t.textInput,required:!0,select:!0,value:j.state.position,error:Boolean(c),helperText:c,InputLabelProps:{shrink:!0},onChange:n,id:"positionPersonForm",name:"position",label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",variant:"outlined",children:i})]}),Object(I.jsxs)("div",{className:t.inputGroup,children:[Object(I.jsx)(X.a,{className:t.textInput,value:j.state.dateOfBirth,error:Boolean(d),helperText:d,InputLabelProps:{shrink:!0},onChange:n,required:!0,id:"dateOfBirthPersonForm",name:"dateOfBirth",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",variant:"outlined"}),Object(I.jsxs)(ee.a,{className:t.formControl,error:Boolean(u),children:[Object(I.jsx)(_.a,{component:"legend",required:!0,children:"\u041f\u043e\u043b"}),Object(I.jsxs)($.a,{row:!0,id:"genderPersonForm",onChange:n,value:j.state.gender,"aria-label":"gender",name:"gender",defaultValue:"top",children:[Object(I.jsx)(te.a,{value:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",control:Object(I.jsx)(ie.a,{id:"femalePersonForm",color:"primary"}),label:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",labelPlacement:"start"}),Object(I.jsx)(te.a,{value:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",control:Object(I.jsx)(ie.a,{id:"malePersonForm",color:"primary"}),label:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",labelPlacement:"start"})]}),Object(I.jsx)(ae.a,{children:u})]})]}),Object(I.jsxs)("div",{className:t.inputGroup,children:[Object(I.jsx)(X.a,{className:t.textInput,value:j.state.dateOfHiring,error:Boolean(h),helperText:h,InputLabelProps:{shrink:!0},onChange:n,required:!0,id:"dateOfHiringPersonForm",name:"dateOfHiring",label:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",type:"date",variant:"outlined"}),Object(I.jsx)(X.a,{className:t.textInput,value:j.state.dateOfFiring,error:Boolean(m),helperText:m,InputLabelProps:{shrink:!0},onChange:n,id:"dateOfFiringPersonForm",name:"dateOfFiring",label:"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f",type:"date",variant:"outlined"})]}),Object(I.jsx)("div",{children:Object(I.jsx)(ee.a,{children:Object(I.jsx)(te.a,{control:Object(I.jsx)(ne.a,{checked:j.state.isDriver,onChange:a,id:"isDriverPersonForm",name:"isDriver"}),label:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432"})})})]})}));function le(e){var t,i="add"===(t=e.type)||"edit"===t?Object(I.jsx)(oe,{}):"delete"===t?Object(I.jsx)("div",{}):void 0;return Object(I.jsx)(U.a,{children:i})}function ce(e){var t=m.type;return Object(I.jsxs)(M.a,{maxWidth:"md",open:m.open,onClose:m.setClose.bind(m),"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(Q.a,{id:"form-dialog-title",children:m.title}),Object(I.jsx)(le,{type:t}),Object(I.jsxs)(Z.a,{children:[Object(I.jsx)(z.a,{onClick:m.cancelBtnAction.bind(m),color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(I.jsx)(z.a,{onClick:m.confirmBtnAction.bind(m),color:"primary",children:m.confirmBtnText})]})]})}localStorage.getItem("staffListTestWork")||localStorage.setItem("staffListTestWork",JSON.stringify(u.list)),u.getLocalStorage();var de=Object(p.a)({container:{textAlign:"center"}}),ue=Object(O.a)((function(e){var t=de();return Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)(b.a,{maxWidth:!1,className:t.container,children:[Object(I.jsx)(g.a,{variant:"h2",component:"h2",children:"\u0420\u0435\u0435\u0441\u0442\u0440 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),Object(I.jsx)(K,{}),Object(I.jsx)(A,{type:"add"}),Object(I.jsx)(ce,{open:m.open})]})})})),he=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,175)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;i(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(ue,{})}),document.getElementById("root")),he()},94:function(e,t,i){}},[[100,1,2]]]);
//# sourceMappingURL=main.d6fc7280.chunk.js.map